(()=>{"use strict";const t=(t,e)=>{let r=0,n=!1;const s=()=>t;return{hit:()=>(r++,r),isSunk:()=>(r>=s()&&(n=!0),n),getLength:s,getName:()=>e}},e=e=>{const r=[{ship:t(5,"Carrier"),placed:!1},{ship:t(4,"Battleship"),placed:!1},{ship:t(3,"Destroyer"),placed:!1},{ship:t(3,"Submarine"),placed:!1},{ship:t(2,"Patrol Boat"),placed:!1}],n=(()=>{const t=[],e=()=>t,r=t=>{const r=e();let n;for(let e=0;e<r.length;e++)JSON.stringify(r[e].cord)===JSON.stringify(t)&&(n=r[e],n.isOccupied=!0)},n=[],s=t=>{const r=e();let n;for(let e=0;e<r.length;e++)if(JSON.stringify(r[e].cord)===JSON.stringify(t))return n=r[e],!1===n.isOccupied;return!1},a=[];return{createGameboard:()=>{for(let e=0;e<=9;e++)for(let r=0;r<=9;r++){const n={cord:[],isOccupied:!1,isAttacked:!1};n.cord[0]=e,n.cord[1]=r,t.push(n)}return t},getGameBoardArray:e,placeShip:(t,e,n)=>{const s=t(n,e);if(!1===s)return!1;const a=s;for(let t=0;t<a.length;t++){const e=a[t];r(e)}return a},checkCordinates:s,placeShipHorizontalyRight:(t,e)=>{const r=e.getLength();let n=t[1];const a=[];for(let e=0;e<r;e++){n=t[1],n+=e;const r=[t[0],n];a.push(r)}return!!a.every((t=>s(t)))&&a},placeShipHorizontalyLeft:(t,e)=>{const r=e.getLength();let n=t[1];const a=[];for(let e=r-1;e>=0;e--){n=t[1],n-=e;const r=[t[0],n];a.push(r)}return!!a.every((t=>s(t)))&&a},placeShipVerticalyUp:(t,e)=>{const r=e.getLength();let n=t[0];const a=[];for(let e=r-1;e>=0;e--){n=t[0],n-=e;const r=[n,t[1]];a.push(r)}return!!a.every((t=>s(t)))&&a},placeShipVerticalyDown:(t,e)=>{const r=e.getLength();let n=t[0];const a=[];for(let e=0;e<r;e++){n=t[0],n+=e;const r=[n,t[1]];a.push(r)}return!!a.every((t=>s(t)))&&a},getShipLocations:()=>n,addShipLocation:(t,e)=>{const r={shipObject:e,shipCordinates:t};return n.push(r)},receiveAttack:t=>{const r=(t=>{const r=e();let n;for(let e=0;e<r.length;e++)if(JSON.stringify(r[e].cord)===JSON.stringify(t))return n=e,n;return!1})(t),s=e()[r];if(!0===s.isAttacked)return!1;s.isAttacked=!0;const c=(t=>{for(let e=0;e<n.length;e++)for(let r=0;r<n[e].shipCordinates.length;r++)if(JSON.stringify(n[e].shipCordinates[r])===JSON.stringify(t)){const t=n[e].shipCordinates.indexOf(n[e].shipCordinates[r]),s=n[e].shipObject;if(n[e].shipCordinates.splice(t,1),0===n[e].shipCordinates.length){n.splice(e,1);break}return s}return!1})(t);return!1===c?(a.push(t),a):c},allShipsSunk:()=>0===n.length}})();return n.createGameboard(),{getName:()=>e,ships:r,playersGameboard:n.getGameBoardArray(),attack:t=>t,gameboardObject:n}},r=()=>{const t=e("Player 1"),r=e("Player 2");return t.ships,r.ships,{start:()=>{},player1:t,player2:r}},n=document.querySelector(".content");(()=>{const t=()=>{const t=document.createElement("header");n.appendChild(t)},e=()=>{const t=document.createElement("h1");t.textContent="Battleship",n.appendChild(t)},s=s=>{const a=s.target;"false"===a.dataset.active&&(a.dataset.active="true",t(),e(),(()=>{const t=r().player1.playersGameboard,e=document.createElement("div");e.classList.add("gameboard"),n.appendChild(e),t.forEach((t=>{const r=t,n=document.createElement("div");n.classList.add("square"),n.textContent=r.cord,e.appendChild(n)}))})(),(()=>{const t=document.createElement("button");t.classList.add("player-start"),t.textContent=`${r().player1.getName()} Start!`,n.appendChild(t)})())};return{displayHome:()=>{t(),e(),(()=>{const t=document.createElement("button");t.classList.add("start"),t.textContent="Start",t.dataset.active=!1,n.appendChild(t)})(),document.querySelector(".start").addEventListener("click",s)}}})().displayHome()})();